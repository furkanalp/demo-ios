import{addFormatToken}from"../format/format";import{addUnitAlias}from"./aliases";import{addUnitPriority}from"./priorities";import{addRegexToken,match1to2,match1to4,match1to6,match2,match4,match6,matchSigned}from"../parse/regex";import{addWeekParseToken}from"../parse/token";import{weekOfYear,weeksInYear,dayOfYearFromWeeks}from"./week-calendar-utils";import toInt from"../utils/to-int";import{hooks}from"../utils/hooks";import{createUTCDate}from"../create/date-from-array";function addWeekYearFormatToken(e,t){addFormatToken(0,[e,e.length],0,t)}addFormatToken(0,["gg",2],0,(function(){return this.weekYear()%100})),addFormatToken(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addUnitPriority("weekYear",1),addUnitPriority("isoWeekYear",1),addRegexToken("G",matchSigned),addRegexToken("g",matchSigned),addRegexToken("GG",match1to2,match2),addRegexToken("gg",match1to2,match2),addRegexToken("GGGG",match1to4,match4),addRegexToken("gggg",match1to4,match4),addRegexToken("GGGGG",match1to6,match6),addRegexToken("ggggg",match1to6,match6),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,a,r){t[r.substr(0,2)]=toInt(e)})),addWeekParseToken(["gg","GG"],(function(e,t,a,r){t[r]=hooks.parseTwoDigitYear(e)}));export function getSetWeekYear(e){return getSetWeekYearHelper.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}export function getSetISOWeekYear(e){return getSetWeekYearHelper.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}export function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}export function getISOWeeksInISOWeekYear(){return weeksInYear(this.isoWeekYear(),1,4)}export function getWeeksInYear(){var e=this.localeData()._week;return weeksInYear(this.year(),e.dow,e.doy)}export function getWeeksInWeekYear(){var e=this.localeData()._week;return weeksInYear(this.weekYear(),e.dow,e.doy)}function getSetWeekYearHelper(e,t,a,r,o){var n;return null==e?weekOfYear(this,r,o).year:(t>(n=weeksInYear(e,r,o))&&(t=n),setWeekAll.call(this,e,t,a,r,o))}function setWeekAll(e,t,a,r,o){var n=dayOfYearFromWeeks(e,t,a,r,o),i=createUTCDate(n.year,0,n.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}